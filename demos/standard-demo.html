<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>OpenWrap Sample Code -- GPT Integration</title>
		<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.css" rel="stylesheet" />
		<script src="js/consoleOutput.js" defer></script>
		<script type="text/javascript">
			var PWT = {}; //Initialize Namespace
			var googletag = googletag || {};
			googletag.cmd = googletag.cmd || [];
			var gptRan = false;
			PWT.jsLoaded = function () {
				//PubMatic pwt.js on load callback is used to load GPT
				loadGPT();
			};
			var loadGPT = function () {
				// Check the gptRan flag
				if (!gptRan) {
					gptRan = true;
					var gads = document.createElement("script");
					var useSSL = "https:" == document.location.protocol;
					gads.src = (useSSL ? "https:" : "http:") + "//www.googletagservices.com/tag/js/gpt.js";
					var node = document.getElementsByTagName("script")[0];
					node.parentNode.insertBefore(gads, node);
				}
			};
			// Failsafe to call gpt
			setTimeout(loadGPT, 500);
		</script>

		<script type="text/javascript">
			(function () {
				var purl = window.location.href;
				var url = "//ads.pubmatic.com/AdServer/js/pwt/160980/4953";
				var profileVersionId = "";
				if (purl.indexOf("pwtv=") > 0) {
					var regexp = /pwtv=(.*?)(&|$)/g;
					var matches = regexp.exec(purl);
					if (matches.length >= 2 && matches[1].length > 0) {
						profileVersionId = "/" + matches[1];
					}
				}
				var wtads = document.createElement("script");
				wtads.async = true;
				wtads.type = "text/javascript";
				wtads.src = url + profileVersionId + "/pwt.js";
				var node = document.getElementsByTagName("script")[0];
				node.parentNode.insertBefore(wtads, node);
			})();
		</script>

		<script>
			window.googletag = window.googletag || { cmd: [] };
			googletag.cmd.push(function () {
				googletag
					.defineSlot(
						"/53373454/owstandard-pmt",
						[
							[300, 250],
							[300, 600],
						],
						"div-gpt-ad-1627911006328-0"
					)
					.addService(googletag.pubads());
				googletag
					.defineSlot(
						"/53373454/owstandard-pmt",
						[
							[300, 600],
							[300, 250],
						],
						"div-gpt-ad-1627911904697-0"
					)
					.addService(googletag.pubads());
				googletag.pubads().enableSingleRequest();
				googletag.enableServices();
			});
		</script>
		<style>
			#console-log-div {
				min-height: 55px;
				position: absolute;
				width: calc(100% - 450px);
				left: 350px;
				top: 104px;
				margin: 10px;
				padding: 5px 0 0 0;

				font-family: "Input Mono", monospace;
				font-weight: 400;
				font-size: 0.8em;
				line-height: 1.4em;

				color: rgba(0, 0, 0, 0.61);
				border-radius: 2px;

				box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.1);
				background-color: #ebebeb;
			}
			#legend,
			.log-row,
			td {
				padding: 10px 0 8px 0;
				text-indent: 10px;
			}
			#legend {
				padding-bottom: 12px;
				font-size: 1.2em;
			}
			.log-row:nth-child(odd) {
				background: rgba(0, 0, 0, 0.1);
			}
			thead {
				background: rgba(0, 0, 0, 0.2);
			}
			#console-log-text {
				overflow-wrap: break-word;
				overflow-y: scroll;
				max-height: 80vh;
			}
			/* Extra small devices (phones, 600px and down) */
			@media only screen and (max-width: 600px) {
				#console-log-div{
                    position:relative;
                    width: auto;
                    padding:10px;
                    left:auto;
                    top:auto;
                }
			}
		</style>
	</head>

	<body>
		<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow">
			<h5 class="my-0 mr-md-0 font-weight-normal">
				<a href="/index.html"><img src="https://s3.eu-west-2.amazonaws.com/pubmatic-demo/static-site-assets/images/pubmatic-logo.png" style="height: 30px" /></a>
			</h5>
			<h3 class="my-1 mr-md-auto" style="margin: 0 auto !important">OpenWrap Sample Code -- GPT Integration</h3>
			<nav class="my-2 my-md-0 mr-md-3"></nav>
		</div>

		<h5>Ad 1</h5>

		<div id="div-gpt-ad-1627911006328-0" style="min-height: 250px; min-width: 300px">
			<script type="text/javascript">
				googletag.cmd.push(function () {
					googletag.display("div-gpt-ad-1627911006328-0");
				});
			</script>
		</div>

		<h5>Ad 2</h5>

		<div id="div-gpt-ad-1627911904697-0" style="min-height: 250px; min-width: 300px">
			<script type="text/javascript">
				googletag.cmd.push(function () {
					googletag.display("div-gpt-ad-1627911904697-0");
				});
			</script>
		</div>
	</body>
</html>
